<!-- Not completed yet -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Information Diagnostics</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
        }
        
        h1, h2, h3 {
            color: #2c3e50;
        }
        
        .container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .info-card {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .info-card h3 {
            margin-top: 0;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }
        
        .info-item {
            display: flex;
            margin-bottom: 8px;
        }
        
        .info-label {
            font-weight: bold;
            min-width: 150px;
        }
        
        .info-value {
            word-break: break-word;
        }
        
        #network-test {
            margin-top: 20px;
        }
        
        button {
            background-color: #4CAF50;
            border: none;
            color: white;
            padding: 10px 15px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
            border-radius: 4px;
        }
        
        button:hover {
            background-color: #45a049;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        table, th, td {
            border: 1px solid #ddd;
        }
        
        th, td {
            padding: 8px;
            text-align: left;
        }
        
        th {
            background-color: #f2f2f2;
        }
        
        .copy-btn {
            background-color: #008CBA;
            padding: 5px 10px;
            font-size: 14px;
        }
        
        .test-result {
            margin-top: 10px;
            padding: 10px;
            border-radius: 4px;
        }
        
        .success {
            background-color: #dff0d8;
            color: #3c763d;
        }
        
        .error {
            background-color: #f2dede;
            color: #a94442;
        }
        
        #permissions {
            margin-bottom: 20px;
        }
        
        .permission-btn {
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        #canvas-info {
            display: none;
        }
        
        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
            }
            
            .info-item {
                flex-direction: column;
            }
            
            .info-label {
                margin-bottom: 4px;
            }
        }
    </style>
</head>
<body>
    <h1>System Information Diagnostics</h1>
    <p>This page displays all available information about your system, browser, and network that can be accessed via JavaScript and HTML.</p>
    
    <div id="permissions">
        <h2>Permissions</h2>
        <p>Some information requires permission. Click the buttons below to request access:</p>
        <button id="location-btn" class="permission-btn">Location Access</button>
        <button id="camera-btn" class="permission-btn">Camera Access</button>
        <button id="microphone-btn" class="permission-btn">Microphone Access</button>
        <button id="notification-btn" class="permission-btn">Notification Access</button>
        <div id="permission-status"></div>
    </div>
    
    <div class="container">
        <div class="info-card">
            <h3>Browser Information</h3>
            <div class="info-item">
                <div class="info-label">User Agent</div>
                <div class="info-value" id="user-agent"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Browser Name</div>
                <div class="info-value" id="browser-name"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Browser Version</div>
                <div class="info-value" id="browser-version"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Cookies Enabled</div>
                <div class="info-value" id="cookies-enabled"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Language</div>
                <div class="info-value" id="language"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Languages</div>
                <div class="info-value" id="languages"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Do Not Track</div>
                <div class="info-value" id="do-not-track"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Private Mode</div>
                <div class="info-value" id="private-mode"></div>
            </div>
        </div>
        
        <div class="info-card">
            <h3>System Information</h3>
            <div class="info-item">
                <div class="info-label">Operating System</div>
                <div class="info-value" id="os"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Platform</div>
                <div class="info-value" id="platform"></div>
            </div>
            <div class="info-item">
                <div class="info-label">CPU Cores</div>
                <div class="info-value" id="cpu-cores"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Device Memory</div>
                <div class="info-value" id="memory"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Device Pixel Ratio</div>
                <div class="info-value" id="pixel-ratio"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Touch Support</div>
                <div class="info-value" id="touch-support"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Vibration Support</div>
                <div class="info-value" id="vibration-support"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Battery Status</div>
                <div class="info-value" id="battery-status"></div>
            </div>
        </div>
        
        <div class="info-card">
            <h3>Network Information</h3>
            <div class="info-item">
                <div class="info-label">Connection Type</div>
                <div class="info-value" id="connection-type"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Effective Type</div>
                <div class="info-value" id="effective-type"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Downlink</div>
                <div class="info-value" id="downlink"></div>
            </div>
            <div class="info-item">
                <div class="info-label">RTT</div>
                <div class="info-value" id="rtt"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Save Data</div>
                <div class="info-value" id="save-data"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Online Status</div>
                <div class="info-value" id="online-status"></div>
            </div>
            <div id="network-test">
                <button id="test-connection">Test Network Speed</button>
                <div id="network-result"></div>
            </div>
        </div>
        
        <div class="info-card">
            <h3>Screen Information</h3>
            <div class="info-item">
                <div class="info-label">Screen Resolution</div>
                <div class="info-value" id="screen-resolution"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Available Resolution</div>
                <div class="info-value" id="available-resolution"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Color Depth</div>
                <div class="info-value" id="color-depth"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Viewport Size</div>
                <div class="info-value" id="viewport-size"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Device Orientation</div>
                <div class="info-value" id="device-orientation"></div>
            </div>
        </div>
    </div>
    
    <div class="container">
        <div class="info-card">
            <h3>Location Information</h3>
            <div id="location-info">
                <p>Click "Location Access" button above to view location details.</p>
            </div>
        </div>
        
        <div class="info-card">
            <h3>Media Capabilities</h3>
            <div class="info-item">
                <div class="info-label">WebRTC Support</div>
                <div class="info-value" id="webrtc-support"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Web Audio Support</div>
                <div class="info-value" id="web-audio-support"></div>
            </div>
            <div class="info-item">
                <div class="info-label">WebGL Support</div>
                <div class="info-value" id="webgl-support"></div>
            </div>
            <div class="info-item">
                <div class="info-label">WebGL Renderer</div>
                <div class="info-value" id="webgl-renderer"></div>
            </div>
            <div class="info-item">
                <div class="info-label">WebGL Vendor</div>
                <div class="info-value" id="webgl-vendor"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Canvas Support</div>
                <div class="info-value" id="canvas-support"></div>
            </div>
            <canvas id="canvas-info" width="200" height="100"></canvas>
        </div>
        
        <div class="info-card">
            <h3>Storage Information</h3>
            <div class="info-item">
                <div class="info-label">Local Storage</div>
                <div class="info-value" id="local-storage"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Session Storage</div>
                <div class="info-value" id="session-storage"></div>
            </div>
            <div class="info-item">
                <div class="info-label">IndexedDB</div>
                <div class="info-value" id="indexed-db"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Web SQL</div>
                <div class="info-value" id="web-sql"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Cache API</div>
                <div class="info-value" id="cache-api"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Storage Quota</div>
                <div class="info-value" id="storage-quota"></div>
            </div>
        </div>
        
        <div class="info-card">
            <h3>Feature Detection</h3>
            <div class="info-item">
                <div class="info-label">Geolocation API</div>
                <div class="info-value" id="geolocation-support"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Web Workers</div>
                <div class="info-value" id="web-workers"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Service Workers</div>
                <div class="info-value" id="service-workers"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Push API</div>
                <div class="info-value" id="push-api"></div>
            </div>
            <div class="info-item">
                <div class="info-label">WebRTC</div>
                <div class="info-value" id="webrtc-api"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Bluetooth API</div>
                <div class="info-value" id="bluetooth-api"></div>
            </div>
            <div class="info-item">
                <div class="info-label">USB API</div>
                <div class="info-value" id="usb-api"></div>
            </div>
            <div class="info-item">
                <div class="info-label">WebXR</div>
                <div class="info-value" id="webxr"></div>
            </div>
        </div>
    </div>
    
    <div class="container">
        <div class="info-card">
            <h3>Time Information</h3>
            <div class="info-item">
                <div class="info-label">Current Time (Local)</div>
                <div class="info-value" id="local-time"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Current Time (UTC)</div>
                <div class="info-value" id="utc-time"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Timezone</div>
                <div class="info-value" id="timezone"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Timezone Offset</div>
                <div class="info-value" id="timezone-offset"></div>
            </div>
        </div>
        
        <div class="info-card">
            <h3>Request & HTTP Information</h3>
            <div class="info-item">
                <div class="info-label">Current URL</div>
                <div class="info-value" id="current-url"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Referrer</div>
                <div class="info-value" id="referrer"></div>
            </div>
            <div class="info-item">
                <div class="info-label">HTTP Protocol</div>
                <div class="info-value" id="http-protocol"></div>
            </div>
        </div>
        
        <div class="info-card">
            <h3>Installed Software</h3>
            <div id="installed-plugins"></div>
            <div id="installed-extensions"></div>
            <div id="mime-types"></div>
        </div>
        
        <div class="info-card">
            <h3>Fingerprinting & Privacy</h3>
            <div class="info-item">
                <div class="info-label">Canvas Fingerprint</div>
                <div class="info-value" id="canvas-fingerprint"></div>
            </div>
            <div class="info-item">
                <div class="info-label">WebGL Fingerprint</div>
                <div class="info-value" id="webgl-fingerprint"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Audio Fingerprint</div>
                <div class="info-value" id="audio-fingerprint"></div>
            </div>
            <div class="info-item">
                <div class="info-label">Fonts Fingerprint</div>
                <div class="info-value" id="fonts-fingerprint"></div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="info-card">
            <h3>All System Information</h3>
            <button id="copy-all">Copy All Information</button>
            <div id="all-system-info"></div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const allSystemInfo = {};
            
            // Browser Information
            function getBrowserInfo() {
                const userAgent = navigator.userAgent;
                document.getElementById('user-agent').textContent = userAgent;
                allSystemInfo.userAgent = userAgent;
                
                // Detect browser
                let browserName = "Unknown";
                let browserVersion = "Unknown";
                
                if (userAgent.indexOf("Firefox") > -1) {
                    browserName = "Mozilla Firefox";
                    browserVersion = userAgent.match(/Firefox\/([0-9.]+)/)[1];
                } else if (userAgent.indexOf("SamsungBrowser") > -1) {
                    browserName = "Samsung Internet";
                    browserVersion = userAgent.match(/SamsungBrowser\/([0-9.]+)/)[1];
                } else if (userAgent.indexOf("Opera") > -1 || userAgent.indexOf("OPR") > -1) {
                    browserName = "Opera";
                    browserVersion = userAgent.indexOf("Opera") > -1 ? 
                                    userAgent.match(/Opera\/([0-9.]+)/) : 
                                    userAgent.match(/OPR\/([0-9.]+)/);
                    browserVersion = browserVersion ? browserVersion[1] : "Unknown";
                } else if (userAgent.indexOf("Edg") > -1) {
                    browserName = "Microsoft Edge";
                    browserVersion = userAgent.match(/Edg\/([0-9.]+)/)[1];
                } else if (userAgent.indexOf("Chrome") > -1) {
                    browserName = "Google Chrome";
                    browserVersion = userAgent.match(/Chrome\/([0-9.]+)/)[1];
                } else if (userAgent.indexOf("Safari") > -1) {
                    browserName = "Apple Safari";
                    browserVersion = userAgent.match(/Version\/([0-9.]+)/)[1];
                } else if (userAgent.indexOf("MSIE") > -1 || userAgent.indexOf("Trident") > -1) {
                    browserName = "Internet Explorer";
                    browserVersion = userAgent.indexOf("MSIE") > -1 ? 
                                    userAgent.match(/MSIE ([0-9.]+)/) : 
                                    userAgent.match(/rv:([0-9.]+)/);
                    browserVersion = browserVersion ? browserVersion[1] : "Unknown";
                }
                
                document.getElementById('browser-name').textContent = browserName;
                document.getElementById('browser-version').textContent = browserVersion;
                allSystemInfo.browserName = browserName;
                allSystemInfo.browserVersion = browserVersion;
                
                document.getElementById('cookies-enabled').textContent = navigator.cookieEnabled ? "Yes" : "No";
                allSystemInfo.cookiesEnabled = navigator.cookieEnabled;
                
                document.getElementById('language').textContent = navigator.language;
                allSystemInfo.language = navigator.language;
                
                document.getElementById('languages').textContent = Array.isArray(navigator.languages) ? 
                                                               navigator.languages.join(', ') : 
                                                               "Not available";
                allSystemInfo.languages = navigator.languages;
                
                // Do Not Track
                const dnt = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
                const dntStatus = dnt === "1" || dnt === "yes" ? "Enabled" : "Disabled/Not Available";
                document.getElementById('do-not-track').textContent = dntStatus;
                allSystemInfo.doNotTrack = dntStatus;
                
                // Private Mode Detection (attempt)
                try {
                    localStorage.setItem('test', 'test');
                    localStorage.removeItem('test');
                    document.getElementById('private-mode').textContent = "Likely Not in Private Mode";
                    allSystemInfo.privateMode = "Likely Not in Private Mode";
                } catch (e) {
                    document.getElementById('private-mode').textContent = "Likely in Private Mode";
                    allSystemInfo.privateMode = "Likely in Private Mode";
                }
            }
            
            // System Information
            function getSystemInfo() {
                // OS Detection
                const userAgent = navigator.userAgent;
                let os = "Unknown";
                
                if (userAgent.indexOf("Win") !== -1) {
                    os = "Windows";
                    if (userAgent.indexOf("Windows NT 10") !== -1) os = "Windows 10";
                    else if (userAgent.indexOf("Windows NT 6.3") !== -1) os = "Windows 8.1";
                    else if (userAgent.indexOf("Windows NT 6.2") !== -1) os = "Windows 8";
                    else if (userAgent.indexOf("Windows NT 6.1") !== -1) os = "Windows 7";
                    else if (userAgent.indexOf("Windows NT 6.0") !== -1) os = "Windows Vista";
                    else if (userAgent.indexOf("Windows NT 5.1") !== -1) os = "Windows XP";
                } else if (userAgent.indexOf("Mac") !== -1) {
                    os = "MacOS";
                } else if (userAgent.indexOf("X11") !== -1) {
                    os = "UNIX";
                } else if (userAgent.indexOf("Linux") !== -1) {
                    os = "Linux";
                } else if (userAgent.indexOf("Android") !== -1) {
                    os = "Android";
                } else if (userAgent.indexOf("iPhone") !== -1 || userAgent.indexOf("iPad") !== -1 || userAgent.indexOf("iPod") !== -1) {
                    os = "iOS";
                }
                
                document.getElementById('os').textContent = os;
                allSystemInfo.os = os;
                
                document.getElementById('platform').textContent = navigator.platform;
                allSystemInfo.platform = navigator.platform;
                
                document.getElementById('cpu-cores').textContent = navigator.hardwareConcurrency || "Not available";
                allSystemInfo.cpuCores = navigator.hardwareConcurrency;
                
                document.getElementById('memory').textContent = navigator.deviceMemory ? 
                                                            navigator.deviceMemory + " GB" : 
                                                            "Not available";
                allSystemInfo.deviceMemory = navigator.deviceMemory;
                
                document.getElementById('pixel-ratio').textContent = window.devicePixelRatio;
                allSystemInfo.pixelRatio = window.devicePixelRatio;
                
                document.getElementById('touch-support').textContent = ('ontouchstart' in window) ? 
                                                                   "Yes (Touch Points: " + navigator.maxTouchPoints + ")" : 
                                                                   "No";
                allSystemInfo.touchSupport = {
                    supported: 'ontouchstart' in window,
                    maxTouchPoints: navigator.maxTouchPoints
                };
                
                document.getElementById('vibration-support').textContent = ('vibrate' in navigator) ? "Yes" : "No";
                allSystemInfo.vibrationSupport = 'vibrate' in navigator;
                
                // Battery Status
                if ('getBattery' in navigator) {
                    navigator.getBattery().then(function(battery) {
                        const batteryInfo = `Level: ${Math.round(battery.level * 100)}%, Charging: ${battery.charging ? "Yes" : "No"}`;
                        document.getElementById('battery-status').textContent = batteryInfo;
                        allSystemInfo.batteryStatus = {
                            level: battery.level,
                            charging: battery.charging
                        };
                        
                        // Update on battery change
                        battery.addEventListener('levelchange', function() {
                            const updatedInfo = `Level: ${Math.round(battery.level * 100)}%, Charging: ${battery.charging ? "Yes" : "No"}`;
                            document.getElementById('battery-status').textContent = updatedInfo;
                            allSystemInfo.batteryStatus.level = battery.level;
                        });
                        
                        battery.addEventListener('chargingchange', function() {
                            const updatedInfo = `Level: ${Math.round(battery.level * 100)}%, Charging: ${battery.charging ? "Yes" : "No"}`;
                            document.getElementById('battery-status').textContent = updatedInfo;
                            allSystemInfo.batteryStatus.charging = battery.charging;
                        });
                    });
                } else {
                    document.getElementById('battery-status').textContent = "Not available";
                    allSystemInfo.batteryStatus = "Not available";
                }
            }
            
            // Network Information
            function getNetworkInfo() {
                const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
                
                if (connection) {
                    document.getElementById('connection-type').textContent = connection.type || "Unknown";
                    document.getElementById('effective-type').textContent = connection.effectiveType || "Unknown";
                    document.getElementById('downlink').textContent = connection.downlink ? 
                                                                 connection.downlink + " Mbps" : 
                                                                 "Unknown";
                    document.getElementById('rtt').textContent = connection.rtt ? 
                                                            connection.rtt + " ms" : 
                                                            "Unknown";
                    document.getElementById('save-data').textContent = connection.saveData ? "Enabled" : "Disabled";
                    
                    allSystemInfo.networkInfo = {
                        type: connection.type,
                        effectiveType: connection.effectiveType,
                        downlink: connection.downlink,
                        rtt: connection.rtt,
                        saveData: connection.saveData
                    };
                    
                    // Update on network change
                    connection.addEventListener('change', function() {
                        document.getElementById('connection-type').textContent = connection.type || "Unknown";
                        document.getElementById('effective-type').textContent = connection.effectiveType || "Unknown";
                        document.getElementById('downlink').textContent = connection.downlink ? 
                                                                     connection.downlink + " Mbps" : 
                                                                     "Unknown";
                        document.getElementById('rtt').textContent = connection.rtt ? 
                                                                connection.rtt + " ms" : 
                                                                "Unknown";
                        document.getElementById('save-data').textContent = connection.saveData ? "Enabled" : "Disabled";
                        
                        allSystemInfo.networkInfo = {
                            type: connection.type,
                            effectiveType: connection.effectiveType,
                            downlink: connection.downlink,
                            rtt: connection.rtt,
                            saveData: connection.saveData
                        };
                    });
                } else {
                    document.getElementById('connection-type').textContent = "Not available";
                    document.getElementById('effective-type').textContent = "Not available";
                    document.getElementById('downlink').textContent = "Not available";
                    document.getElementById('rtt').textContent = "Not available";
                    document.getElementById('save-data').textContent = "Not available";
                    
                    allSystemInfo.networkInfo = "Not available";
                }
                
                document.getElementById('online-status').textContent = navigator.onLine ? "Online" : "Offline";
                allSystemInfo.onlineStatus = navigator.onLine;
                
                // Update online status on change
                window.addEventListener('online', function() {
                    document.getElementById('online-status').textContent = "Online";
                    allSystemInfo.onlineStatus = true;
                });
                
                window.addEventListener('offline', function() {
                    document.getElementById('online-status').textContent = "Offline";
                    allSystemInfo.onlineStatus = false;
                });
                
                // Network Speed Test
                document.getElementById('test-connection').addEventListener('click', function() {
                    const startTime = Date.now();
                    const testImage = new Image();
                    const resultEl = document.getElementById('network-result');
                    resultEl.className = '';
                    resultEl.textContent = "Testing...";
                    
                    // Using a small image to test download speed
                    // Using cache-busting query parameter
                    testImage.src = "https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png?t=" + startTime;
                    
                    testImage.onload = function() {
                        const endTime = Date.now();
                        const duration = (endTime - startTime) / 1000;
                        const fileSize = 14; // Approximate file size in KB
                        const speed = (fileSize / duration).toFixed(2);
                        
                        resultEl.textContent = `Download speed: ${speed} KB/s`;
                        resultEl.className = 'test-result success';
                        allSystemInfo.networkSpeedTest = `${speed} KB/s`;
                    };
                    
                    testImage.onerror = function() {
                        resultEl.textContent = "Network test failed. Check your connection.";
                        resultEl.className = 'test-result error';
                        allSystemInfo.networkSpeedTest = "Test failed";
                    };
                    
                    // Set a timeout for the test
                    setTimeout(function() {
                        if (!testImage.complete) {
                            testImage.src = ""; // Cancel the image request
                            resultEl.textContent = "Network test timed out. Connection might be slow.";
                            resultEl.className = 'test-result error';
                            allSystemInfo.networkSpeedTest = "Test timed out";
                        }
                    }, 10000);
                });
            }
            
            // Screen Information
            function getScreenInfo() {
                const screenWidth = screen.width;
                const screenHeight = screen.height;
                const availWidth = screen.availWidth;
                const availHeight = screen.availHeight;
                const colorDepth = screen.colorDepth;
                const viewportWidth = window.innerWidth;
                const viewportHeight = window.innerHeight;
                
                document.getElementById('screen-resolution').textContent = `${screenWidth} x ${screenHeight}`;
                document.getElementById('available-resolution').textContent = `${availWidth} x ${availHeight}`;
                document.getElementById('color-depth').textContent = `${colorDepth} bits`;
                document.getElementById('viewport-size').textContent = `${viewportWidth} x ${viewportHeight}`;
                
                allSystemInfo.screenInfo = {
                    resolution: `${screenWidth} x ${screenHeight}`,
                    availableResolution: `${availWidth} x ${availHeight}`,
                    colorDepth: `${colorDepth} bits`,
                    viewportSize: `${viewportWidth} x ${viewportHeight}`
                };
                
                // Update viewport size on resize
                window.addEventListener('resize', function() {
                    const updatedWidth = window.innerWidth;
                    const updatedHeight = window.innerHeight;
                    document.getElementById('viewport-size').textContent = `${updatedWidth} x ${updatedHeight}`;
                    allSystemInfo.screenInfo.viewportSize = `${updatedWidth} x ${updatedHeight}`;
                });
                
                // Device Orientation
                if ('DeviceOrientationEvent' in window) {
                    document.getElementById('device-orientation').textContent = "Supported";
                    allSystemInfo.deviceOrientation = {supported: true};
                    
                    window.addEventListener('deviceorientation', function(event) {
                        if (event.alpha !== null && event.beta !== null && event.gamma !== null) {
                            const orientation = `Alpha: ${Math.round(event.alpha)}째, Beta: ${Math.round(event.beta)}째, Gamma: ${Math.round(event.gamma)}째`;
                            document.getElementById('device-orientation').textContent = orientation;
                            allSystemInfo.deviceOrientation = {
                                supported: true,
                                alpha: Math.round(event.alpha),
                                beta: Math.round(event.beta),
                                gamma: Math.round(event.gamma)
                            };
                        }
                    }, true);
                } else {
                    document.getElementById('device-orientation').textContent = "Not supported";
                    allSystemInfo.deviceOrientation = {supported: false};
                }
            }
            
            // Location Information
            function setupLocationAccess() {
                document.getElementById('location-btn').addEventListener('click', function() {
                    if ('geolocation' in navigator) {
                        const permissionStatus = document.getElementById('permission-status');
                        permissionStatus.textContent = "Requesting location access...";
                        
                        navigator.geolocation.getCurrentPosition(
                            function(position) {
                                permissionStatus.textContent = "Location access granted.";
                                
                                const locationInfo = document.getElementById('location-info');
                                locationInfo.innerHTML = '';
                                
                                const items = [
                                    {label: "Latitude", value: position.coords.latitude},
                                    {label: "Longitude", value: position.coords.longitude},
                                    {label: "Accuracy", value: `${position.coords.accuracy} meters`},
                                    {label: "Altitude", value: position.coords.altitude ? `${position.coords.altitude} meters` : "Not available"},
                                    {label: "Altitude Accuracy", value: position.coords.altitudeAccuracy ? `${position.coords.altitudeAccuracy} meters` : "Not available"},
                                    {label: "Heading", value: position.coords.heading ? `${position.coords.heading}째` : "Not available"},
                                    {label: "Speed", value: position.coords.speed ? `${position.coords.speed} m/s` : "Not available"},
                                    {label: "Timestamp", value: new Date(position.timestamp).toLocaleString()}
                                ];
                                
                                items.forEach(item => {
                                    const div = document.createElement('div');
                                    div.className = 'info-item';
                                    
                                    const labelDiv = document.createElement('div');
                                    labelDiv.className = 'info-label';
                                    labelDiv.textContent = item.label;
                                    
                                    const valueDiv = document.createElement('div');
                                    valueDiv.className = 'info-value';
                                    valueDiv.textContent = item.value;
                                    
                                    div.appendChild(labelDiv);
                                    div.appendChild(valueDiv);
                                    locationInfo.appendChild(div);
                                });
                                
                                allSystemInfo.locationInfo = {
                                    latitude: position.coords.latitude,
                                    longitude: position.coords.longitude,
                                    accuracy: position.coords.accuracy,
                                    altitude: position.coords.altitude,
                                    altitudeAccuracy: position.coords.altitudeAccuracy,
                                    heading: position.coords.heading,
                                    speed: position.coords.speed,
                                    timestamp: position.timestamp
                                };
                                
                                // Add map link
                                const mapLink = document.createElement('p');
                                mapLink.innerHTML = `<a href="https://www.openstreetmap.org/?mlat=${position.coords.latitude}&mlon=${position.coords.longitude}&zoom=14" target="_blank">View on map</a>`;
                                locationInfo.appendChild(mapLink);
                            },
                            function(error) {
                                permissionStatus.textContent = `Location access denied: ${error.message}`;
                                document.getElementById('location-info').innerHTML = '<div class="info-item error">Location access denied or unavailable</div>';
                                allSystemInfo.locationInfo = "Access denied";
                            },
                            {
                                enableHighAccuracy: true,
                                timeout: 10000,
                                maximumAge: 0
                            }
                        );
                    } else {
                        document.getElementById('location-info').innerHTML = '<div class="info-item error">Geolocation is not supported by this browser</div>';
                        document.getElementById('permission-status').textContent = "Geolocation not supported.";
                        allSystemInfo.locationInfo = "Not supported";
                    }
                });
            }
            
            // Media Capabilities
            function getMediaCapabilities() {
                // WebRTC Support
                document.getElementById('webrtc-support').textContent = 
                    (navigator.mediaDevices && 'getUserMedia' in navigator.mediaDevices) ? "Yes" : "No";
                allSystemInfo.webrtcSupport = (navigator.mediaDevices && 'getUserMedia' in navigator.mediaDevices);
                
                // Web Audio Support
                document.getElementById('web-audio-support').textContent = 
                    (window.AudioContext || window.webkitAudioContext) ? "Yes" : "No";
                allSystemInfo.webAudioSupport = !!(window.AudioContext || window.webkitAudioContext);
                
                // WebGL Support
                let webglSupport = "No";
                let webglInfo = {supported: false};
                
                try {
                    const canvas = document.createElement('canvas');
                    const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
                    
                    if (gl) {
                        webglSupport = "Yes";
                        webglInfo = {
                            supported: true
                        };
                        
                        const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                        if (debugInfo) {
                            const vendor = gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL);
                            const renderer = gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);
                            
                            document.getElementById('webgl-vendor').textContent = vendor;
                            document.getElementById('webgl-renderer').textContent = renderer;
                            
                            webglInfo.vendor = vendor;
                            webglInfo.renderer = renderer;
                        } else {
                            document.getElementById('webgl-vendor').textContent = "Information Not Available";
                            document.getElementById('webgl-renderer').textContent = "Information Not Available";
                            
                            webglInfo.vendor = "Not Available";
                            webglInfo.renderer = "Not Available";
                        }
                        
                        // Generate WebGL fingerprint
                        const extensions = gl.getSupportedExtensions();
                        const parameters = [
                            gl.getParameter(gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),
                            gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE),
                            gl.getParameter(gl.MAX_FRAGMENT_UNIFORM_VECTORS),
                            gl.getParameter(gl.MAX_RENDERBUFFER_SIZE),
                            gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS),
                            gl.getParameter(gl.MAX_TEXTURE_SIZE),
                            gl.getParameter(gl.MAX_VARYING_VECTORS),
                            gl.getParameter(gl.MAX_VERTEX_ATTRIBS),
                            gl.getParameter(gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS),
                            gl.getParameter(gl.MAX_VERTEX_UNIFORM_VECTORS),
                            gl.getParameter(gl.ALIASED_LINE_WIDTH_RANGE),
                            gl.getParameter(gl.ALIASED_POINT_SIZE_RANGE),
                            gl.getParameter(gl.RED_BITS),
                            gl.getParameter(gl.GREEN_BITS),
                            gl.getParameter(gl.BLUE_BITS),
                            gl.getParameter(gl.ALPHA_BITS),
                            gl.getParameter(gl.DEPTH_BITS),
                            gl.getParameter(gl.STENCIL_BITS)
                        ];
                        
                        const webglFingerprintStr = JSON.stringify(parameters.concat(extensions));
                        const webglFingerprint = hashString(webglFingerprintStr);
                        document.getElementById('webgl-fingerprint').textContent = webglFingerprint;
                        webglInfo.fingerprint = webglFingerprint;
                    }
                } catch (e) {
                    console.error('WebGL detection failed:', e);
                }
                
                document.getElementById('webgl-support').textContent = webglSupport;
                allSystemInfo.webglInfo = webglInfo;
                
                // Canvas Support
                let canvasSupport = "No";
                try {
                    const canvas = document.getElementById('canvas-info');
                    if (canvas && canvas.getContext) {
                        const ctx = canvas.getContext('2d');
                        if (ctx) {
                            canvasSupport = "Yes";
                            
                            // Generate canvas fingerprint
                            ctx.textBaseline = "top";
                            ctx.font = "14px 'Arial'";
                            ctx.textBaseline = "alphabetic";
                            ctx.fillStyle = "#f60";
                            ctx.fillRect(125, 1, 62, 20);
                            ctx.fillStyle = "#069";
                            ctx.fillText("Canvas Fingerprint", 2, 15);
                            ctx.fillStyle = "rgba(102, 204, 0, 0.7)";
                            ctx.fillText("Canvas Fingerprint", 4, 17);
                            
                            try {
                                const dataUrl = canvas.toDataURL();
                                const canvasFingerprint = hashString(dataUrl);
                                document.getElementById('canvas-fingerprint').textContent = canvasFingerprint;
                                allSystemInfo.canvasFingerprint = canvasFingerprint;
                            } catch (e) {
                                document.getElementById('canvas-fingerprint').textContent = "Access Denied (Privacy Protection Active)";
                                allSystemInfo.canvasFingerprint = "Access Denied";
                            }
                        }
                    }
                } catch (e) {
                    console.error('Canvas detection failed:', e);
                }
                
                document.getElementById('canvas-support').textContent = canvasSupport;
                allSystemInfo.canvasSupport = canvasSupport === "Yes";
                
                // Audio Fingerprint
                try {
                    const AudioContext = window.AudioContext || window.webkitAudioContext;
                    if (AudioContext) {
                        const context = new AudioContext();
                        const oscillator = context.createOscillator();
                        const analyser = context.createAnalyser();
                        const gain = context.createGain();
                        
                        gain.gain.value = 0; // Mute the sound
                        oscillator.connect(analyser);
                        analyser.connect(gain);
                        gain.connect(context.destination);
                        
                        oscillator.type = 'triangle';
                        oscillator.frequency.setValueAtTime(10000, context.currentTime);
                        oscillator.start();
                        
                        const buffer = new Uint8Array(analyser.frequencyBinCount);
                        analyser.getByteFrequencyData(buffer);
                        oscillator.stop();
                        
                        const audioFingerprintStr = Array.from(buffer).join(',');
                        const audioFingerprint = hashString(audioFingerprintStr);
                        document.getElementById('audio-fingerprint').textContent = audioFingerprint;
                        allSystemInfo.audioFingerprint = audioFingerprint;
                        
                        // Clean up
                        oscillator.disconnect();
                        analyser.disconnect();
                        gain.disconnect();
                        context.close();
                    } else {
                        document.getElementById('audio-fingerprint').textContent = "Not Available";
                        allSystemInfo.audioFingerprint = "Not Available";
                    }
                } catch (e) {
                    document.getElementById('audio-fingerprint').textContent = "Access Denied or Error";
                    allSystemInfo.audioFingerprint = "Error";
                    console.error('Audio fingerprinting failed:', e);
                }
                
                // Fonts Fingerprint
                const baseFonts = ['monospace', 'sans-serif', 'serif'];
                const testString = "mmMMMwWWlLLiI0O&1";
                const testSize = '72px';
                const container = document.createElement('div');
                container.style.visibility = 'hidden';
                container.style.position = 'absolute';
                container.style.left = '-9999px';
                
                document.body.appendChild(container);
                
                const createSpan = (fontFamily) => {
                    const span = document.createElement('span');
                    span.style.fontFamily = fontFamily;
                    span.style.fontSize = testSize;
                    span.innerHTML = testString;
                    return span;
                };
                
                const baseWidths = {};
                baseFonts.forEach(baseFont => {
                    container.appendChild(createSpan(baseFont));
                    baseWidths[baseFont] = container.lastChild.offsetWidth;
                });
                
                const fontList = [
                    'Arial', 'Arial Black', 'Arial Narrow', 'Bookman Old Style', 'Bradley Hand ITC', 'Century', 
                    'Century Gothic', 'Comic Sans MS', 'Courier', 'Courier New', 'Georgia', 'Impact', 
                    'Lucida Console', 'Lucida Sans Unicode', 'Monotype Corsiva', 'Palatino Linotype', 
                    'Tahoma', 'Times', 'Times New Roman', 'Trebuchet MS', 'Verdana'
                ];
                
                const detectedFonts = [];
                for (const font of fontList) {
                    let detected = false;
                    for (const baseFont of baseFonts) {
                        const span = createSpan(`'${font}', ${baseFont}`);
                        container.appendChild(span);
                        
                        if (span.offsetWidth !== baseWidths[baseFont]) {
                            detected = true;
                        }
                        
                        container.removeChild(span);
                        if (detected) break;
                    }
                    
                    if (detected) {
                        detectedFonts.push(font);
                    }
                }
                
                // Remove the container
                document.body.removeChild(container);
                
                const fontFingerprint = hashString(detectedFonts.join(','));
                document.getElementById('fonts-fingerprint').textContent = fontFingerprint;
                allSystemInfo.fontsFingerprint = fontFingerprint;
                allSystemInfo.detectedFonts = detectedFonts;
            }
            
            // Storage Information
            function getStorageInfo() {
                // Local Storage
                try {
                    const localStorageAvailable = !!window.localStorage;
                    document.getElementById('local-storage').textContent = localStorageAvailable ? "Available" : "Not available";
                    allSystemInfo.localStorage = localStorageAvailable;
                } catch (e) {
                    document.getElementById('local-storage').textContent = "Blocked (Privacy Mode)";
                    allSystemInfo.localStorage = "Blocked";
                }
                
                // Session Storage
                try {
                    const sessionStorageAvailable = !!window.sessionStorage;
                    document.getElementById('session-storage').textContent = sessionStorageAvailable ? "Available" : "Not available";
                    allSystemInfo.sessionStorage = sessionStorageAvailable;
                } catch (e) {
                    document.getElementById('session-storage').textContent = "Blocked (Privacy Mode)";
                    allSystemInfo.sessionStorage = "Blocked";
                }
                
                // IndexedDB
                const indexedDBAvailable = !!window.indexedDB;
                document.getElementById('indexed-db').textContent = indexedDBAvailable ? "Available" : "Not available";
                allSystemInfo.indexedDB = indexedDBAvailable;
                
                // Web SQL
                const webSQLAvailable = !!window.openDatabase;
                document.getElementById('web-sql').textContent = webSQLAvailable ? "Available" : "Not available";
                allSystemInfo.webSQL = webSQLAvailable;
                
                // Cache API
                const cacheAPIAvailable = !!(window.caches);
                document.getElementById('cache-api').textContent = cacheAPIAvailable ? "Available" : "Not available";
                allSystemInfo.cacheAPI = cacheAPIAvailable;
                
                // Storage Quota
                if (navigator.storage && navigator.storage.estimate) {
                    navigator.storage.estimate().then(function(estimate) {
                        const quotaInMB = Math.round(estimate.quota / (1024 * 1024));
                        const usageInMB = Math.round(estimate.usage / (1024 * 1024));
                        const percentUsed = Math.round((usageInMB / quotaInMB) * 100);
                        
                        document.getElementById('storage-quota').textContent = 
                            `${usageInMB} MB used of ${quotaInMB} MB (${percentUsed}%)`;
                        
                        allSystemInfo.storageQuota = {
                            quota: quotaInMB,
                            usage: usageInMB,
                            percentUsed: percentUsed
                        };
                    }).catch(function(error) {
                        document.getElementById('storage-quota').textContent = "Error accessing information";
                        allSystemInfo.storageQuota = "Error";
                    });
                } else {
                    document.getElementById('storage-quota').textContent = "Not available";
                    allSystemInfo.storageQuota = "Not available";
                }
            }
            
            // Feature Detection
            function detectFeatures() {
                // Geolocation API
                document.getElementById('geolocation-support').textContent = 
                    ('geolocation' in navigator) ? "Supported" : "Not supported";
                allSystemInfo.geolocationSupport = 'geolocation' in navigator;
                
                // Web Workers
                document.getElementById('web-workers').textContent = 
                    ('Worker' in window) ? "Supported" : "Not supported";
                allSystemInfo.webWorkersSupport = 'Worker' in window;
                
                // Service Workers
                document.getElementById('service-workers').textContent = 
                    ('serviceWorker' in navigator) ? "Supported" : "Not supported";
                allSystemInfo.serviceWorkersSupport = 'serviceWorker' in navigator;
                
                // Push API
                document.getElementById('push-api').textContent = 
                    ('PushManager' in window) ? "Supported" : "Not supported";
                allSystemInfo.pushApiSupport = 'PushManager' in window;
                
                // WebRTC API
                document.getElementById('webrtc-api').textContent = 
                    (navigator.mediaDevices && 'getUserMedia' in navigator.mediaDevices) ? "Supported" : "Not supported";
                allSystemInfo.webrtcApiSupport = !!(navigator.mediaDevices && 'getUserMedia' in navigator.mediaDevices);
                
                // Bluetooth API
                document.getElementById('bluetooth-api').textContent = 
                    ('bluetooth' in navigator) ? "Supported" : "Not supported";
                allSystemInfo.bluetoothApiSupport = 'bluetooth' in navigator;
                
                // USB API
                document.getElementById('usb-api').textContent = 
                    ('usb' in navigator) ? "Supported" : "Not supported";
                allSystemInfo.usbApiSupport = 'usb' in navigator;
                
                // WebXR
                document.getElementById('webxr').textContent = 
                    ('xr' in navigator) ? "Supported" : "Not supported";
                allSystemInfo.webxrSupport = 'xr' in navigator;
            }
            
            // Time Information
            function getTimeInfo() {
                const updateTime = () => {
                    const now = new Date();
                    document.getElementById('local-time').textContent = now.toLocaleString();
                    document.getElementById('utc-time').textContent = now.toUTCString();
                    
                    allSystemInfo.timeInfo = {
                        localTime: now.toLocaleString(),
                        utcTime: now.toUTCString()
                    };
                };
                
                updateTime();
                setInterval(updateTime, 1000);
                
                // Timezone
                try {
                    document.getElementById('timezone').textContent = Intl.DateTimeFormat().resolvedOptions().timeZone;
                    allSystemInfo.timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
                } catch (e) {
                    document.getElementById('timezone').textContent = "Not available";
                    allSystemInfo.timezone = "Not available";
                }
                
                // Timezone offset
                const offset = new Date().getTimezoneOffset();
                const hours = Math.abs(Math.floor(offset / 60));
                const minutes = Math.abs(offset % 60);
                const sign = offset > 0 ? "-" : "+";
                
                const formattedOffset = `UTC${sign}${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}`;
                document.getElementById('timezone-offset').textContent = formattedOffset;
                allSystemInfo.timezoneOffset = formattedOffset;
            }
            
            // Request & HTTP Information
            function getRequestInfo() {
                document.getElementById('current-url').textContent = window.location.href;
                document.getElementById('referrer').textContent = document.referrer || "No referrer";
                
                allSystemInfo.requestInfo = {
                    currentUrl: window.location.href,
                    referrer: document.referrer || "No referrer"
                };
                
                // HTTP Protocol
                const isSecure = window.location.protocol === 'https:';
                document.getElementById('http-protocol').textContent = window.location.protocol.replace(':', '') + (isSecure ? " (Secure)" : " (Insecure)");
                allSystemInfo.httpProtocol = window.location.protocol.replace(':', '');
                allSystemInfo.isSecure = isSecure;
            }
            
            // Installed Software
            function getSoftwareInfo() {
                // Plugins
                const pluginsContainer = document.getElementById('installed-plugins');
                pluginsContainer.innerHTML = '<h4>Browser Plugins</h4>';
                
                if (navigator.plugins && navigator.plugins.length > 0) {
                    const table = document.createElement('table');
                    
                    // Create table header
                    const header = document.createElement('tr');
                    const nameHeader = document.createElement('th');
                    nameHeader.textContent = "Name";
                    const descHeader = document.createElement('th');
                    descHeader.textContent = "Description";
                    const versionHeader = document.createElement('th');
                    versionHeader.textContent = "Version";
                    
                    header.appendChild(nameHeader);
                    header.appendChild(descHeader);
                    header.appendChild(versionHeader);
                    table.appendChild(header);
                    
                    // Add plugins to table
                    allSystemInfo.plugins = [];
                    for (let i = 0; i < navigator.plugins.length; i++) {
                        const plugin = navigator.plugins[i];
                        const row = document.createElement('tr');
                        
                        const nameCell = document.createElement('td');
                        nameCell.textContent = plugin.name;
                        
                        const descCell = document.createElement('td');
                        descCell.textContent = plugin.description || "No description";
                        
                        const versionCell = document.createElement('td');
                        versionCell.textContent = plugin.version || "Unknown";
                        
                        row.appendChild(nameCell);
                        row.appendChild(descCell);
                        row.appendChild(versionCell);
                        table.appendChild(row);
                        
                        allSystemInfo.plugins.push({
                            name: plugin.name,
                            description: plugin.description,
                            version: plugin.version
                        });
                    }
                    
                    pluginsContainer.appendChild(table);
                } else {
                    pluginsContainer.innerHTML += '<p>No plugins detected or information not available</p>';
                    allSystemInfo.plugins = "None detected";
                }
                
                // MIME Types
                const mimeContainer = document.getElementById('mime-types');
                mimeContainer.innerHTML = '<h4>Supported MIME Types</h4>';
                
                if (navigator.mimeTypes && navigator.mimeTypes.length > 0) {
                    const table = document.createElement('table');
                    
                    // Create table header
                    const header = document.createElement('tr');
                    const typeHeader = document.createElement('th');
                    typeHeader.textContent = "MIME Type";
                    const descHeader = document.createElement('th');
                    descHeader.textContent = "Description";
                    const pluginHeader = document.createElement('th');
                    pluginHeader.textContent = "Plugin";
                    
                    header.appendChild(typeHeader);
                    header.appendChild(descHeader);
                    header.appendChild(pluginHeader);
                    table.appendChild(header);
                    
                    // Add MIME types to table
                    allSystemInfo.mimeTypes = [];
                    for (let i = 0; i < navigator.mimeTypes.length; i++) {
                        const mimeType = navigator.mimeTypes[i];
                        const row = document.createElement('tr');
                        
                        const typeCell = document.createElement('td');
                        typeCell.textContent = mimeType.type;
                        
                        const descCell = document.createElement('td');
                        descCell.textContent = mimeType.description || "No description";
                        
                        const pluginCell = document.createElement('td');
                        pluginCell.textContent = mimeType.enabledPlugin ? mimeType.enabledPlugin.name : "None";
                        
                        row.appendChild(typeCell);
                        row.appendChild(descCell);
                        row.appendChild(pluginCell);
                        table.appendChild(row);
                        
                        allSystemInfo.mimeTypes.push({
                            type: mimeType.type,
                            description: mimeType.description,
                            plugin: mimeType.enabledPlugin ? mimeType.enabledPlugin.name : "None"
                        });
                    }
                    
                    mimeContainer.appendChild(table);
                } else {
                    mimeContainer.innerHTML += '<p>No MIME type information available</p>';
                    allSystemInfo.mimeTypes = "None detected";
                }
            }
            
            // Permission Request Handlers
            function setupPermissionRequests() {
                // Camera Access
                document.getElementById('camera-btn').addEventListener('click', function() {
                    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                        document.getElementById('permission-status').textContent = "Requesting camera access...";
                        
                        navigator.mediaDevices.getUserMedia({ video: true })
                            .then(function(stream) {
                                document.getElementById('permission-status').textContent = "Camera access granted.";
                                // Stop all tracks to release the camera
                                stream.getTracks().forEach(track => track.stop());
                                allSystemInfo.cameraAccess = "Granted";
                            })
                            .catch(function(error) {
                                document.getElementById('permission-status').textContent = `Camera access denied: ${error.message}`;
                                allSystemInfo.cameraAccess = "Denied";
                            });
                    } else {
                        document.getElementById('permission-status').textContent = "Camera API not supported by this browser.";
                        allSystemInfo.cameraAccess = "Not supported";
                    }
                });
                
                // Microphone Access
                document.getElementById('microphone-btn').addEventListener('click', function() {
                    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                        document.getElementById('permission-status').textContent = "Requesting microphone access...";
                        
                        navigator.mediaDevices.getUserMedia({ audio: true })
                            .then(function(stream) {
                                document.getElementById('permission-status').textContent = "Microphone access granted.";
                                // Stop all tracks to release the microphone
                                stream.getTracks().forEach(track => track.stop());
                                allSystemInfo.microphoneAccess = "Granted";
                            })
                            .catch(function(error) {
                                document.getElementById('permission-status').textContent = `Microphone access denied: ${error.message}`;
                                allSystemInfo.microphoneAccess = "Denied";
                            });
                    } else {
                        document.getElementById('permission-status').textContent = "Microphone API not supported by this browser.";
                        allSystemInfo.microphoneAccess = "Not supported";
                    }
                });
                
                // Notification Access
                document.getElementById('notification-btn').addEventListener('click', function() {
                    if ('Notification' in window) {
                        document.getElementById('permission-status').textContent = "Requesting notification access...";
                        
                        Notification.requestPermission()
                            .then(function(permission) {
                                document.getElementById('permission-status').textContent = `Notification access ${permission}.`;
                                allSystemInfo.notificationAccess = permission;
                            })
                            .catch(function(error) {
                                document.getElementById('permission-status').textContent = `Notification access error: ${error.message}`;
                                allSystemInfo.notificationAccess = "Error";
                            });
                    } else {
                        document.getElementById('permission-status').textContent = "Notification API not supported by this browser.";
                        allSystemInfo.notificationAccess = "Not supported";
                    }
                });
            }
            
            // Helper function for creating a simple hash (for fingerprinting)
            function hashString(str) {
                let hash = 0;
                if (str.length === 0) return hash;
                
                for (let i = 0; i < str.length; i++) {